{% extends 'base.html.twig' %}

{% block title %}Evenement index{% endblock %}

{% block body %}
<script src="assets/js/plugin/webfont/webfont.min.js"></script>
<script>
  WebFont.load({
    google: { families: ["Public Sans:300,400,500,600,700"] },
    custom: {
      families: [
        "Font Awesome 5 Solid",
        "Font Awesome 5 Regular",
        "Font Awesome 5 Brands",
        "simple-line-icons",
      ],
      urls: ["assets/css/fonts.min.css"],
    },
    active: function () {
      sessionStorage.fonts = true;
    },
  });
</script>
  <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/css/plugins.min.css" />
  <link rel="stylesheet" href="assets/css/kaiadmin.min.css" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link rel="stylesheet" href="assets/css/demo.css" />

    <link
    rel="icon"
    href="assets/img/kaiadmin/favicon.ico"
    type="image/x-icon"
  />
  <!-- Fonts and icons -->
  <script src="assets/js/plugin/webfont/webfont.min.js"></script>
  <script>
    WebFont.load({
      google: { families: ["Public Sans:300,400,500,600,700"] },
      custom: {
        families: [
          "Font Awesome 5 Solid",
          "Font Awesome 5 Regular",
          "Font Awesome 5 Brands",
          "simple-line-icons",
        ],
        urls: ["assets/css/fonts.min.css"],
      },
      active: function () {
        sessionStorage.fonts = true;
      },
    });
  </script>
  <!-- CSS Files -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/css/plugins.min.css" />
  <link rel="stylesheet" href="assets/css/kaiadmin.min.css" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link rel="stylesheet" href="assets/css/demo.css" />
</head>
<body>
  <div class="wrapper">
    <!-- Sidebar -->
    <div class="sidebar" data-background-color="dark">
      <div class="sidebar-logo">
        <!-- Logo Header -->
        <div class="logo-header" data-background-color="dark">
          <a href="index.html" class="logo">
          <img
            src="img/logogeekhub-removebg-preview.png"
            alt="navbar brand"
            class="navbar-brand"
            height="70"
          />
          <span class="logo-text" style="font-size: 18px;
            font-weight: bold; 
            color: #fff; 
            margin-left: 10px;">GeekHub</span>
        </a>
          <div class="nav-toggle">
            <button class="btn btn-toggle toggle-sidebar">
              <i class="gg-menu-right"></i>
            </button>
            <button class="btn btn-toggle sidenav-toggler">
              <i class="gg-menu-left"></i>
            </button>
          </div>
          <button class="topbar-toggler more">
            <i class="gg-more-vertical-alt"></i>
          </button>
        </div>
        <!-- End Logo Header -->
      </div>
      <div class="sidebar-wrapper scrollbar scrollbar-inner">
        <div class="sidebar-content">
          <ul class="nav nav-secondary">
            <li class="nav-item">
            <a href="/dashadmin">
                <i class="fas fa-bullseye"></i>
                <p class="d-inline">Home</p>
            </a>
        </li>
            <li class="nav-section">
              <span class="sidebar-mini-icon">
                <i class="fa fa-ellipsis-h"></i>
              </span>
              <h4 class="text-section">Modules</h4>
            </li>
           <!-- <li class="nav-item">
              <a href="/abonnement" >
                  <i class="fas fa-id-card"></i>
                  <p class="d-inline">Abonnements</p>
              </a>
          </li>-->
          <li class="nav-item">
<a data-bs-toggle="collapse" href="#maps" role="button" aria-expanded="false" aria-controls="maps">
    <i class="fas fa-table"></i>
        <p>Cours & Abonnement</p>
        <span class="caret"></span>
    </a>
    <div class="collapse" id="maps">
      <ul class="nav nav-collapse">
      <li>
    <a href="/CourBack">
      <span class="sub-item">Cours</span>
        </a>
      </li>
      <li>
        <a href="/abonnement">
  <span class="sub-item">Abonnements</span>
        </a>
        </li>
    <li>
    <a href="/planning">
<span class="sub-item">Planning</span>
</a>
</li>
</ul>
</div>
</li>
            <li class="nav-item">
                <a href="/evenement" >
                    <i class="fas fa-calendar-alt"></i>
                    <p class="d-inline">Événements</p>
                </a>
            </li>
            <li class="nav-item">
              <a href="/reclamation">
                  <i class="fas fa-exclamation-circle"></i>
                  <p class="d-inline">Réclamations</p>
              </a>
          </li>
          <li class="nav-item">
            <a href="/service">
                <i class="fas fa-concierge-bell"></i>
                <p class="d-inline">Services</p>
            </a>
        </li>
        <li class="nav-item">
            <a href="/equipement" >
                <i class="fas fa-dumbbell"></i>
                <p class="d-inline">Équipements</p>
            </a>
        </li>
        <li class="nav-item">
            <a href="/plan/nutritionnel/admin/plans-objectifs">
                <i class="fas fa-bullseye"></i>
                <p class="d-inline">Objectifs</p>
            </a>
        </li>
       <!-- <li class="nav-item">
            <a href="/finance" >
                <i class="fas fa-chart-line"></i>
                <p class="d-inline">Finance</p>
            </a>
        </li>-->
         <li class="nav-item">
     <a data-bs-toggle="collapse" href="#tables">
       <i class="fas fa-table"></i>
       <p>Finance</p>
       <span class="caret"></span>
     </a>
     <div class="collapse" id="tables">
       <ul class="nav nav-collapse">
         <li>
           <a href="/financeadmin">
             <span class="sub-item">Rapports</span>
           </a>
         </li>
         <li>
           <a href="/depenseadmin">
             <span class="sub-item">Dépenses</span>
           </a>
         </li>
         <li>
           <a href="/revenuadmin">
             <span class="sub-item">Revenus</span>
           </a>
         </li>
       </ul>
     </div>
   </li>
        <li class="nav-section">
              <span class="sidebar-mini-icon">
                <i class="fa fa-ellipsis-h"></i>
              </span>
              <h4 class="text-section">Comp</h4>
            </li>
            <li class="nav-item">
              <a data-bs-toggle="collapse" href="#tables">
                <i class="fas fa-table"></i>
                <p>Tables</p>
                <span class="caret"></span>
              </a>
              <div class="collapse" id="tables">
                <ul class="nav nav-collapse">
                  <li>
                    <a href="tables/tables.html">
                      <span class="sub-item">Basic Table</span>
                    </a>
                  </li>
                  <li>
                    <a href="tables/datatables.html">
                      <span class="sub-item">Datatables</span>
                    </a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <a data-bs-toggle="collapse" href="#maps">
                <i class="fas fa-map-marker-alt"></i>
                <p>Maps</p>
                <span class="caret"></span>
              </a>
              <div class="collapse" id="maps">
                <ul class="nav nav-collapse">
                  <li>
                    <a href="maps/googlemaps.html">
                      <span class="sub-item">Google Maps</span>
                    </a>
                  </li>
                  <li>
                    <a href="maps/jsvectormap.html">
                      <span class="sub-item">Jsvectormap</span>
                    </a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <a data-bs-toggle="collapse" href="#charts">
                <i class="far fa-chart-bar"></i>
                <p>Charts</p>
                <span class="caret"></span>
              </a>
              <div class="collapse" id="charts">
                <ul class="nav nav-collapse">
                  <li>
                    <a href="charts/charts.html">
                      <span class="sub-item">Chart Js</span>
                    </a>
                  </li>
                  <li>
                    <a href="charts/sparkline.html">
                      <span class="sub-item">Sparkline</span>
                    </a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <a href="widgets.html">
                <i class="fas fa-desktop"></i>
                <p>Widgets</p>
                <span class="badge badge-success">4</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="../../documentation/index.html">
                <i class="fas fa-file"></i>
                <p>Documentation</p>
                <span class="badge badge-secondary">1</span>
              </a>
            </li>
            <li class="nav-item">
              <a data-bs-toggle="collapse" href="#submenu">
                <i class="fas fa-bars"></i>
                <p>Menu Levels</p>
                <span class="caret"></span>
              </a>
              <div class="collapse" id="submenu">
                <ul class="nav nav-collapse">
                  <li>
                    <a data-bs-toggle="collapse" href="#subnav1">
                      <span class="sub-item">Level 1</span>
                      <span class="caret"></span>
                    </a>
                    <div class="collapse" id="subnav1">
                      <ul class="nav nav-collapse subnav">
                        <li>
                          <a href="#">
                            <span class="sub-item">Level 2</span>
                          </a>
                        </li>
                        <li>
                          <a href="#">
                            <span class="sub-item">Level 2</span>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li>
                    <a data-bs-toggle="collapse" href="#subnav2">
                      <span class="sub-item">Level 1</span>
                      <span class="caret"></span>
                    </a>
                    <div class="collapse" id="subnav2">
                      <ul class="nav nav-collapse subnav">
                        <li>
                          <a href="#">
                            <span class="sub-item">Level 2</span>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li>
                    <a href="#">
                      <span class="sub-item">Level 1</span>
                    </a>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="main-panel">
      <div class="content">
        <div class="page-inner">
          <div class="page-header">
            <!-- Ajout du bouton stylisé ici -->
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h1 class="page-title">Événements</h1>
              <a href="{{ path('app_evenement_new') }}" class="btn btn-primary btn-round">
                <i class="fas fa-plus"></i> Créer un événement
              </a>
            </div>
          </div>

          <div class="card">
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Titre</th>
                      <th>Description</th>
                      <th>Date</th>
                      <th>Durée</th>
                      <th>Capacité</th>
                      <th>Statut</th>
                      <th>Image</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                  {% for evenement in evenements %}
                      <tr>
                          <td>{{ evenement.idevenement }}</td>
                          <td>{{ evenement.titre }}</td>
                          <td>{{ evenement.description|slice(0, 30) ~ '...' }}</td>
                          <td>{{ evenement.date ? evenement.date|date('Y-m-d H:i') : '' }}</td>
                          <td>{{ evenement.duree }} min</td>
                          <td>{{ evenement.capacite }}</td>
                          <td>
                            <span class="badge badge-{{ evenement.statut == 'actif' ? 'success' : 'warning' }}">
                              {{ evenement.statut }}
                            </span>
                          </td>
                          <td>
                            {% if evenement.imageUrl %}
                              <img src="{{ asset('uploads/' ~ evenement.imageUrl) }}" alt="Image" style="max-width: 50px;">
                            {% endif %}
                          </td>
                          <td>
                            <div class="btn-group" role="group">
                              <a href="{{ path('app_evenement_show', {'idevenement': evenement.idevenement}) }}" 
                                 class="btn btn-sm btn-info" title="Voir">
                                <i class="fas fa-eye"></i>
                              </a>
                              <a href="{{ path('app_evenement_edit', {'idevenement': evenement.idevenement}) }}" 
                                 class="btn btn-sm btn-warning" title="Modifier">
                                <i class="fas fa-edit"></i>
                              </a>
                              <!-- Nouveau bouton pour les inscriptions -->
                              <a href="{{ path('app_evenement_inscriptions', {'idevenement': evenement.idevenement}) }}" 
                                 class="btn btn-sm btn-primary" title="Gérer les inscriptions">
                                <i class="fas fa-users"></i>
                              </a>
                            </div>
                          </td>
                      </tr>
                  {% else %}
                      <tr>
                          <td colspan="9" class="text-center">Aucun événement trouvé</td>
                      </tr>
                  {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="assets/js/core/jquery.3.2.1.min.js"></script>
  <script src="assets/js/core/popper.min.js"></script>
  <script src="assets/js/core/bootstrap.min.js"></script>
  <script src="assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
  <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
  <script src="assets/js/kaiadmin.min.js"></script>
  <script src="assets/js/demo.js"></script>
{% endblock %}